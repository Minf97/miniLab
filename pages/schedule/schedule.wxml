<view class="container">
   <!-- 头部 -->
   <view class="header">
      <view class="imgBtn" bindtap="lastWeek">
         <image src="../../images/btn_prev@2x.png"/>
      </view>
      <text class="headerText">第{{weekNow}}周</text>
      <view class="imgBtn" bindtap="nextWeek" >
         <image src="../../images/btn_next@2x.png"/>
      </view>
      <!-- 是否进入编辑模式 -->
      <view class="editor" catchtap="isEdit">
         <van-icon name="setting" color="#99CCFF" size="50rpx"/>
      </view>
   </view>
   <!-- 滑块 -->
   <view bindtouchstart="touchStart"  bindtouchmove="touchMove" bindtouchend="touchEnd" >
      <scroll-view class="scroll">
         <!-- 课表 - 星期时间 - 横列 -->
         <view class="scrollTop">
            <!-- 月份 -->
            <view class="month">
               {{arr.month[0]}}月
            </view>
            <!-- 周一~周日 -->
            <view wx:for="{{['一','二','三','四','五','六','日']}}" wx:key="index" class="weekText">
               <view>周{{item}}</view>
               <view class="{{arr.month[index] == time.month && arr.date[index] == time.date ? 'weekTextTimeHighLight' : 'weekTextTime'}} ">{{arr.month[index]}}/{{arr.date[index]}}</view>
            </view>
         </view>

         <!-- 页面主体内容 -->
         <view class="body">
            <!-- 左侧时间轴 -->
            <view class="timeTable">
               <!-- 课表序数 -->
               <view wx:for="{{[1,2,3,4,5,6,7,8,9,10]}}" wx:key="unique" class="timeNum">
                  <view>{{item}}</view>
                  <view class="timeClass">{{courseTime[index]}}</view>
               </view>
            </view>
            <!-- 课表 -->
            <view  class="scheduleContain" >
               <!-- 编辑模式下 -->
               <block wx:if="{{editing}}">
                  <block class="schedule_row" wx:for="{{[0,1,2,3,4]}}" wx:for-item="i" wx:key="index">
                     <block class="schedule_line" wx:for="{{[0,1,2,3,4,5,6]}}" wx:for-item="j" wx:key="item">
                        <view class="schedule"
                        data-height="{{i+1}}"
                        data-width="{{j+1}}"
                        style="top: {{i*220}}rpx; left: {{j*100}}rpx;"
                        catchtap="arrange"
                        ></view>
                     </block>
                  </block>
               </block>

               <!-- 需要渲染上去的课表 -->
               <block wx:for="{{schedule}}" wx:key="item1">
                  <view class="schedule1" 
                  wx:if="{{item.page === weekNow}}"
                  data-height="{{item.height}}"
                  data-width="{{item.width}}"
                  style="left: {{(item.width-1)*100}}rpx; top: {{(item.height-1)*220}}rpx; background-color: {{colorArrays[index]}};"
                  catchtap="excelClass">
                     <view class="scheduleInfo">
                     <text wx:if="{{item.page == weekNow}}"> 123 </text>
                        <open-data type="userNickName"></open-data>
                     </view>
                  </view>
               </block>
            </view>
         </view>
      </scroll-view>
   </view>
</view>